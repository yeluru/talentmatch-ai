# project_id used for local Docker volume naming so the same DB/data is reused across restarts.
# To avoid pushing to prod: run `supabase unlink` after start (or never run `supabase link`).
project_id = "rnwyflevkpamxhxkhkww"

# Use a different DB port if 54322 is already in use (e.g. by another Supabase or Docker project).
[db]
port = 54332

# Use a different analytics port if 54327 is already in use (e.g. by another Supabase project).
[analytics]
enabled = true
port = 54337

[api]
enabled = true
port = 54321
schemas = ["public", "graphql_public"]
extra_search_path = ["public", "extensions"]
max_rows = 1000

[auth]
enabled = true
site_url = "http://localhost:8080"
additional_redirect_urls = ["http://localhost:8080", "https://localhost:8080"]
jwt_expiry = 3600
enable_signup = true

[auth.email]
enable_signup = true
double_confirm_changes = false
enable_confirmations = true

[functions.analyze-resume]
verify_jwt = false

[functions.match-candidates]
verify_jwt = false

[functions.recommend-jobs]
verify_jwt = false

[functions.parse-resume]
verify_jwt = false

[functions.talent-search]
verify_jwt = false

[functions.generate-insights]
verify_jwt = false

[functions.run-agent]
verify_jwt = false

[functions.generate-email]
verify_jwt = false

[functions.linkedin-search]
verify_jwt = false

[functions.web-search]
verify_jwt = false

[functions.google-search-linkedin]
verify_jwt = false

[functions.serpapi-search-linkedin]
verify_jwt = false

[functions.build-xray-from-jd]
verify_jwt = false

[functions.bulk-import-candidates]
verify_jwt = false

[functions.candidate-help-chat]
verify_jwt = false

[functions.notify-application]
verify_jwt = true

[functions.send-recruiter-invite]
verify_jwt = false

[functions.get-invite-details]
verify_jwt = false

[functions.send-manager-invite]
verify_jwt = false

[functions.send-org-admin-invite]
verify_jwt = false

# Gateway JWT check disabled; function validates JWT via auth.getUser().
[functions.bootstrap-platform-admin]
verify_jwt = false

[functions.send-org-admin-invite-existing]
verify_jwt = false

[functions.parse-job-description]
verify_jwt = false

[functions.tailor-resume]
verify_jwt = true

[functions.fetch-linkedin-text]
verify_jwt = true

[functions.fetch-jd-text]
verify_jwt = true

# Gateway JWT disabled; function validates via auth.getUser().
[functions.send-rtr-email]
verify_jwt = false

[functions.send-engagement-email]
verify_jwt = false

# Gateway JWT disabled; function validates via auth.getUser().
[functions.send-pipeline-email]
verify_jwt = false

[functions.send-submission-email]
verify_jwt = false

[functions.send-screening-invite]
verify_jwt = false

# Gateway JWT disabled; function validates via auth.getUser().
[functions.get-org-account-managers]
verify_jwt = false

# Gateway JWT check disabled so request reaches the function; the function validates the JWT via auth.getUser().
[functions.get-my-auth-data]
verify_jwt = false
